<Window x:Class="QualTrack.UI.TrainingJacketWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Training Jacket" Height="700" Width="900"
        WindowStartupLocation="CenterScreen"
        Icon="/QualTrackIcon.ico">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" x:Name="HeaderTextBlock" 
                   Text="Training Jacket" 
                   FontSize="24" FontWeight="Bold" 
                   Margin="0,0,0,20"/>
        
        <!-- Scrollable Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Biographical Information -->
                <GroupBox Grid.Row="0" Header="Biographical Information" Margin="0,0,0,10">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Label Grid.Row="0" Grid.Column="0" Content="Name:" FontWeight="Bold" Margin="0,5"/>
                <TextBlock Grid.Row="0" Grid.Column="1" x:Name="NameTextBlock" Margin="10,5"/>
                
                <Label Grid.Row="0" Grid.Column="2" Content="Rate:" FontWeight="Bold" Margin="20,5,0,5"/>
                <TextBlock Grid.Row="0" Grid.Column="3" x:Name="RateTextBlock" Margin="10,5"/>
                
                <Label Grid.Row="1" Grid.Column="0" Content="DOD ID:" FontWeight="Bold" Margin="0,5"/>
                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="DODIdTextBlock" Margin="10,5"/>
                
                <Label Grid.Row="2" Grid.Column="0" Content="Duty Sections:" FontWeight="Bold" Margin="0,5"/>
                <TextBlock Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" x:Name="DutySectionsTextBlock" Margin="10,5"/>
            </Grid>
        </GroupBox>
        
                <!-- Qualifications Section -->
                <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Qualifications List -->
            <GroupBox Grid.Column="0" Header="Qualifications" Margin="0,0,5,0">
                <DataGrid x:Name="QualificationsDataGrid" 
                          AutoGenerateColumns="False" 
                          IsReadOnly="True"
                          SelectionMode="Single"
                          SelectionChanged="QualificationsDataGrid_SelectionChanged"
                          Margin="5">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Weapon" Binding="{Binding Weapon}" Width="80"/>
                        <DataGridTextColumn Header="Category" Binding="{Binding CategoryDisplay}" Width="80"/>
                        <DataGridTextColumn Header="Date Qualified" Binding="{Binding DateQualifiedDisplay}" Width="120"/>
                        <DataGridTextColumn Header="Status" Binding="{Binding StatusDisplay}" Width="100"/>
                        <DataGridTextColumn Header="Expires" Binding="{Binding ExpirationDisplay}" Width="100"/>
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>
            
            <!-- Qualification Details -->
            <GroupBox Grid.Column="1" Header="Qualification Details" Margin="5,0,0,0">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="QualificationDetailsPanel" Margin="5">
                        <TextBlock Text="Select a qualification to view details." 
                                   HorizontalAlignment="Center" 
                                   VerticalAlignment="Center"
                                   Foreground="Gray"/>
                    </StackPanel>
                </ScrollViewer>
            </GroupBox>
        </Grid>
        
                <!-- Admin Requirements Section -->
                <GroupBox Grid.Row="2" Header="Admin Requirements" Margin="0,0,0,10">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Form 2760 -->
                <Label Grid.Row="0" Grid.Column="0" Content="Form 2760 (Lautenberg Act):" FontWeight="Bold" Margin="0,5"/>
                <TextBlock Grid.Row="0" Grid.Column="1" x:Name="Form2760DateTextBlock" Margin="10,5" Foreground="Gray" Text="Not completed"/>
                <TextBlock Grid.Row="0" Grid.Column="2" x:Name="Form2760StatusTextBlock" Margin="10,5" FontWeight="Bold"/>
                
                <!-- AA&E Screening -->
                <Label Grid.Row="1" Grid.Column="0" Content="AA&amp;E Screening:" FontWeight="Bold" Margin="0,5"/>
                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="AAEScreeningDateTextBlock" Margin="10,5" Foreground="Gray" Text="Not completed"/>
                <TextBlock Grid.Row="1" Grid.Column="2" x:Name="AAEScreeningStatusTextBlock" Margin="10,5" FontWeight="Bold"/>
                
                <!-- Deadly Force Training -->
                <Label Grid.Row="2" Grid.Column="0" Content="Deadly Force Training:" FontWeight="Bold" Margin="0,5"/>
                <TextBlock Grid.Row="2" Grid.Column="1" x:Name="DeadlyForceDateTextBlock" Margin="10,5" Foreground="Gray" Text="Not completed"/>
                <TextBlock Grid.Row="2" Grid.Column="2" x:Name="DeadlyForceStatusTextBlock" Margin="10,5" FontWeight="Bold"/>
            </Grid>
        </GroupBox>
        
                <!-- DD2760 Forms Section -->
                <GroupBox Grid.Row="3" Header="DD2760 Forms" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Header with count -->
                        <TextBlock Grid.Row="0" x:Name="DD2760StatusTextBlock" 
                                   Text="No DD2760 Forms" 
                                   FontWeight="Bold"
                                   Margin="0,0,0,10"/>
                        
                        <!-- DD2760 Forms List -->
                        <DataGrid Grid.Row="1" x:Name="DD2760DataGrid" 
                                  AutoGenerateColumns="False" 
                                  IsReadOnly="True"
                                  SelectionMode="Single"
                                  MouseDoubleClick="DD2760DataGrid_MouseDoubleClick"
                                  Height="120"
                                  Margin="0,5">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Date Completed" Binding="{Binding DateCompletedDisplay}" Width="120"/>
                                <DataGridTextColumn Header="Date Expires" Binding="{Binding DateExpiresDisplay}" Width="120"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding StatusDisplay}" Width="100"/>
                                <DataGridTemplateColumn Header="PDF" Width="80">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Content="Open PDF" Click="OpenDD2760Pdf_Click" Tag="{Binding}" 
                                                    IsEnabled="{Binding HasPdf}" Padding="5,2" FontSize="10"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </GroupBox>
        
                <!-- AA&E Screening Forms Section -->
                <GroupBox Grid.Row="4" Header="AA&amp;E Screening Forms" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Header with count -->
                        <TextBlock Grid.Row="0" x:Name="AAEStatusTextBlock" 
                                   Text="No AA&amp;E Forms" 
                                   FontWeight="Bold"
                                   Margin="0,0,0,10"/>
                        
                        <!-- AA&E Forms List -->
                        <DataGrid Grid.Row="1" x:Name="AAEDataGrid" 
                                  AutoGenerateColumns="False" 
                                  IsReadOnly="True"
                                  SelectionMode="Single"
                                  MouseDoubleClick="AAEDataGrid_MouseDoubleClick"
                                  Height="120"
                                  Margin="0,5">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Date Completed" Binding="{Binding DateCompletedDisplay}" Width="120"/>
                                <DataGridTextColumn Header="Date Expires" Binding="{Binding DateExpiresDisplay}" Width="120"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding StatusDisplay}" Width="100"/>
                                <DataGridTextColumn Header="Outcome" Binding="{Binding OutcomeDisplay}" Width="120"/>
                                <DataGridTemplateColumn Header="PDF" Width="80">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Content="Open PDF" Click="OpenAAEPdf_Click" Tag="{Binding}" 
                                                    IsEnabled="{Binding HasPdf}" Padding="5,2" FontSize="10"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </GroupBox>
        
                <!-- 3591/1 Forms Section -->
                <GroupBox Grid.Row="5" Header="3591/1 Forms" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Header with count -->
                        <TextBlock Grid.Row="0" x:Name="PdfStatusTextBlock" 
                                   Text="No Saved 3591/1s" 
                                   FontWeight="Bold"
                                   Margin="0,0,0,10"/>
                        
                        <!-- Sessions List -->
                        <DataGrid Grid.Row="1" x:Name="SessionsDataGrid" 
                                  AutoGenerateColumns="False" 
                                  IsReadOnly="True"
                                  SelectionMode="Single"
                                  MouseDoubleClick="SessionsDataGrid_MouseDoubleClick"
                                  Height="150"
                                  Margin="0,5">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Date" Binding="{Binding DateOfFiringDisplay}" Width="100"/>
                                <DataGridTextColumn Header="Ship/Station" Binding="{Binding ShipStation}" Width="120"/>
                                <DataGridTextColumn Header="Weapons" Binding="{Binding WeaponsFired}" Width="100"/>
                                <DataGridTextColumn Header="Range" Binding="{Binding RangeNameLocation}" Width="150"/>
                                <DataGridTextColumn Header="Division" Binding="{Binding DivisionActivity}" Width="120"/>
                                <DataGridTemplateColumn Header="PDF" Width="80">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Content="Open PDF" Click="Open3591Pdf_Click" Tag="{Binding Session}" 
                                                    IsEnabled="{Binding HasPdf}" Padding="5,2" FontSize="10"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </GroupBox>
        
                <!-- Action Buttons -->
                <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                    <Button Content="Print All PDFs" Click="PrintAllPdfs_Click" Width="120" Height="30" Margin="5"/>
                    <Button Content="Close" Click="Close_Click" Width="80" Height="30" Margin="5"/>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</Window> 